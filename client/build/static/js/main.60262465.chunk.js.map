{"version":3,"sources":["backend.js","auth/helper/index.js","auth/helper/AdminRoutes.js","auth/helper/PrivateRoutes.js","core/Menu.js","core/Base.js","core/helper/ImageHelper.js","core/Cart.js","core/helper/CartHelper.js","core/Home.js","core/helper/coreapicalls.js","user/Signin.js","user/Signup.js","user/UserDashBoard.js","user/AdminDashBoard.js","admin/helper/adminapicall.js","admin/AddCategory.js","admin/ManageCategories.js","admin/AddProduct.js","admin/ManageProducts.js","admin/UpdateProduct.js","admin/UpdateCategory.js","core/StripeCheckout.js","core/ShopCart.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","AdminRoute","Component","component","rest","render","props","user","role","to","pathname","state","from","location","PrivateRoute","currentTab","history","path","color","withRouter","className","style","onClick","next","removeItem","fetch","method","then","response","console","log","catch","err","signout","push","Base","title","description","children","ImageHelper","product","imageUrl","_id","src","alt","maxHeight","maxWidth","Card","addtoCart","removeFromCart","setReload","f","reload","undefined","useState","redirect","setRedirect","count","cardTitle","name","cartDescription","cartPrice","price","addToCart","item","cart","setItem","stringify","addItemToCart","reedirect","getRedirect","showAddToCart","productId","map","i","splice","removeItemFromCart","showRemoveFromCart","Home","products","setProducts","error","setError","preload","json","data","useEffect","index","Signin","email","password","loading","didRedirect","values","setValues","handleChange","event","target","value","onSubmit","preventDefault","headers","Accept","body","signin","authenticate","display","onChange","type","Signup","success","UserDashBoard","AdminDashBoard","getCategories","AddCategory","setName","setSuccess","token","userId","category","Authorization","createCategory","successMessage","warningMessage","autoFocus","required","placeholder","ManageCategories","setCategory","deleteThisCategory","categoryId","deleteCategory","cate","AddProduct","stock","photo","categories","createdProduct","formData","FormData","createProduct","files","set","accept","ManageProducts","deleteThisProduct","deleteProduct","UpdateProduct","match","getProduct","preloadCategories","params","updateProduct","UpdateCategory","header","getCategory","updateCategory","StripeCheckout","address","getFinalPrice","amount","p","makePayment","status","stripeKey","shippingAddress","billingAddress","ShopCart","loadCart","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.60262465.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_BACKEND;","import {API} from '../../backend';\r\n\r\nexport const signup = user => {\r\n    return fetch(`${API}/signup`,{\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const signin = user => {\r\n    return fetch(`${API}/signin`,{\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const authenticate = (data, next) => {\r\n    if(typeof window !== \"undefined\"){\r\n        localStorage.setItem(\"jwt\", JSON.stringify(data))\r\n        next();\r\n    }\r\n}\r\n\r\nexport const signout = next => {\r\n    if(typeof window !== \"undefined\"){\r\n        localStorage.removeItem(\"jwt\")\r\n        next();\r\n\r\n        return fetch(`${API}/signout`,{\r\n            method: \"GET\"\r\n        })\r\n        .then(response => console.log(\"Signout successs\"))\r\n        .catch(err => console.log(err))\r\n    }\r\n}\r\n\r\nexport const isAuthenticated = () => {\r\n    if(typeof window == \"undefined\"){\r\n        return false\r\n    }\r\n    if(localStorage.getItem(\"jwt\")){\r\n        return JSON.parse(localStorage.getItem(\"jwt\"))\r\n    }else{\r\n        return false;\r\n    }\r\n}\r\n\r\n// export const isAuthenticated = () => {\r\n//         if(typeof window !== \"undefined\"){\r\n//             if(localStorage.getItem(\"jwt\")){\r\n//                 return JSON.parse(localStorage.getItem(\"jwt\"))\r\n//             }else{\r\n//                 return false;\r\n//             }\r\n//         }else{\r\n//             return false;\r\n//         }\r\n        \r\n//     }","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport { isAuthenticated } from './index';\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => {\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={props =>\r\n          isAuthenticated() && isAuthenticated().user.role ===1 ? (\r\n            <Component {...props} />\r\n          ) : (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/signin\",\r\n                state: { from: props.location }\r\n              }}\r\n            />\r\n          )\r\n        }\r\n      />\r\n    );\r\n  }\r\n\r\n  export default AdminRoute;","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport { isAuthenticated } from './index';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={props =>\r\n          isAuthenticated() ? (\r\n            <Component {...props} />\r\n          ) : (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/signin\",\r\n                state: { from: props.location }\r\n              }}\r\n            />\r\n          )\r\n        }\r\n      />\r\n    );\r\n  }\r\n\r\n  export default PrivateRoute;\r\n","import React,{ Fragment } from 'react';\r\nimport { Link, withRouter} from 'react-router-dom';\r\nimport { signout, isAuthenticated } from '../auth/helper';\r\n\r\nconst currentTab = (history, path) => {\r\n    if(history.location.pathname === path){\r\n        return {color: \"#2ecc72\"}\r\n    }else{\r\n        return {color: \"#FFFFFF\"}\r\n    }\r\n}\r\n\r\nconst Menu = ({history}) => (\r\n    <div>\r\n        <ul className=\"nav nav-tabs bg-dark\">\r\n            <li className=\"nav-item\">\r\n                <Link \r\n                  style={currentTab(history, \"/\")} \r\n                  className=\"nav-link\" \r\n                  to=\"/\"\r\n                >\r\n                    Home\r\n                </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <Link \r\n                  style={currentTab(history, \"/cart\")} \r\n                  className=\"nav-link\" \r\n                  to=\"/cart\"\r\n                >\r\n                    Cart\r\n                </Link>\r\n            </li>\r\n            {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n                <li className=\"nav-item\">\r\n                <Link \r\n                  style={currentTab(history, \"/user/dashboard\")} \r\n                  className=\"nav-link\" \r\n                  to=\"/user/dashboard\"\r\n                >\r\n                   U. Dashboard\r\n                </Link>\r\n            </li>\r\n            )}\r\n            {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n                <li className=\"nav-item\">\r\n                <Link \r\n                  className=\"nav-link\"\r\n                  style={currentTab(history, \"/admin/dashboard\")} \r\n                  to=\"/admin/dashboard\"\r\n                >\r\n                    A. Dashboard\r\n                </Link>\r\n            </li>\r\n            )}\r\n            {!isAuthenticated() && (\r\n                <Fragment>\r\n                <li className=\"nav-item\">\r\n                    <Link \r\n                      className=\"nav-link\" \r\n                      style={currentTab(history, \"/signup\")} \r\n                      to=\"/signup\"\r\n                    >\r\n                        Signup\r\n                    </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <Link \r\n                      className=\"nav-link\" \r\n                      style={currentTab(history, \"/signin\")}\r\n                      to=\"/signin\"\r\n                    >\r\n                        Signin\r\n                    </Link>\r\n                </li>\r\n                </Fragment>\r\n            )}\r\n            {isAuthenticated() && (\r\n                <li className=\"nav-item\">\r\n                   <span className=\"nav-link text-warning\" onClick={() => {\r\n                       signout(() => {\r\n                           history.push(\"/\")\r\n                       })\r\n                   }}>\r\n                       Signout \r\n                   </span>\r\n                </li>\r\n            )}\r\n        </ul>\r\n    </div>\r\n    \r\n)\r\n\r\nexport default  withRouter(Menu)\r\n","import React from 'react';\r\nimport Menu from './Menu';\r\n\r\nfunction Base({\r\n    title,\r\n    description=\"My Description\",\r\n    className=\"bg-dark text-white p-4\",\r\n    children\r\n}) {\r\n    return (\r\n        <div>\r\n            <Menu />\r\n            <div className=\"container-fluid\">\r\n                <div className=\"jumbotron bg-dark text-white text-center\">\r\n                    <h2 className=\"display-4\">{title}</h2>\r\n                    <p className=\"lead\">{description}</p>\r\n                </div>\r\n                <div className={className}>{children}</div>\r\n            </div>\r\n            <footer className=\"footer bg-dark mt-auto py-3\">\r\n                <div className=\"container-fluid bg-success text-white text-center py-3\">\r\n                    <h4>If you got any question, feel free to reach out!</h4>\r\n                    <button className=\"btn btn-warning btn-lg\">Contact Us</button>\r\n                </div>\r\n                <div className=\"container\">\r\n                    <span className=\"text-muted\">\r\n                        An Amazing <span className=\"text-white\">MERN</span> Bootcamp\r\n                    </span>\r\n                </div>\r\n            </footer>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Base\r\n","import React from 'react';\r\nimport { API } from '../../backend';\r\n\r\nfunction ImageHelper({product}) {\r\n\r\n    const imageUrl = product ? `${API}/product/photo/${product._id}` : `https://images.pexels.com/photos/3561339/pexels-photo-3561339.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940`\r\n    return (\r\n        <div className=\"rounded border border-success p-2\">\r\n            <img\r\n              src={imageUrl}\r\n              alt=\"\"\r\n              style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\r\n              className=\"mb-3 rounded\"\r\n            />\r\n          </div>\r\n    )\r\n}\r\n\r\nexport default ImageHelper\r\n","import React, {useState, useEffect} from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { addItemToCart, removeItemFromCart } from './helper/CartHelper';\r\nimport ImageHelper from './helper/ImageHelper';\r\n\r\n\r\nconst Card = ({\r\n    product,\r\n    addtoCart= true,\r\n    removeFromCart=false,\r\n    setReload = f => f, \r\n    reload = undefined\r\n}) => {\r\n\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [ count, setCount] = useState(product.count)\r\n\r\n\r\n    const cardTitle = product ? product.name : \"A Photo from pexels\";\r\n    const cartDescription = product ? product.description : \"A photo from pexels\";\r\n    const cartPrice = product ? product.price : \"A photo from pexels\"\r\n\r\n    const addToCart = () => {\r\n      addItemToCart(product, () => setRedirect(true))\r\n    }\r\n\r\n    const getRedirect = (reedirect) => {\r\n      if(redirect){\r\n        return <Redirect to=\"/cart\" />\r\n      }\r\n    }\r\n    const showAddToCart = (addtoCart) => {\r\n        return (\r\n            addtoCart && (\r\n                <button\r\n                onClick={addToCart}\r\n                className=\"btn btn-block btn-outline-success mt-2 mb-2\"\r\n              >\r\n                Add to Cart\r\n              </button>\r\n            )\r\n        )\r\n    }\r\n\r\n    const showRemoveFromCart = (removeFromCart) => {\r\n        return (\r\n            removeFromCart && (\r\n                <button\r\n                onClick={() => {\r\n                  removeItemFromCart(product._id);\r\n                  setReload(!reload)\r\n                }}\r\n                className=\"btn btn-block btn-outline-danger mt-2 mb-2\"\r\n              >\r\n                Remove from cart\r\n              </button>\r\n            )\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n      <div className=\"card text-white bg-dark border border-info \">\r\n        <div className=\"card-header lead\">{cardTitle}</div>\r\n        <div className=\"card-body\">\r\n          {getRedirect(redirect)}\r\n        <ImageHelper product={product} />\r\n          <p className=\"lead bg-success font-weight-normal text-wrap\">\r\n            {cartDescription}\r\n          </p>\r\n          <p className=\"btn btn-success rounded  btn-sm px-4\">$ {cartPrice}</p>\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              {showAddToCart(addtoCart)}\r\n            </div>\r\n            <div className=\"col-12\">\r\n              {showRemoveFromCart(removeFromCart)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\nexport default Card\r\n","export const addItemToCart = (item, next) => {\r\n    let cart = []\r\n    if(typeof window !== undefined){\r\n        if(localStorage.getItem(\"cart\")){\r\n            cart = JSON.parse(localStorage.getItem(\"cart\"))\r\n        }\r\n        cart.push({...item, count: 1})\r\n        localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n        next()\r\n    }\r\n}\r\n\r\nexport const loadCart = () => {\r\n    if(typeof window !== undefined){\r\n        if(localStorage.getItem(\"cart\")){\r\n            return JSON.parse(localStorage.getItem(\"cart\"))\r\n        }\r\n    }\r\n};\r\n\r\nexport const removeItemFromCart = (productId) => {\r\n    let cart = []\r\n    if(typeof window !== undefined){\r\n        if(localStorage.getItem(\"cart\")){\r\n            cart = JSON.parse(localStorage.getItem(\"cart\"))\r\n        }\r\n        cart.map((product, i) => {\r\n            if(product._id === productId){\r\n                cart.splice(i, 1)\r\n            }\r\n        })\r\n        localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n    }\r\n    return cart\r\n}\r\n\r\nexport const cartEmpty = (next) => {\r\n    if(typeof window !== undefined){\r\n        localStorage.removeItem(\"cart\");\r\n        let cart = [];\r\n        localStorage.setItem(\"cart\", JSON.stringify(cart))\r\n        next();\r\n    }\r\n}","import React, {useState, useEffect} from 'react';\r\nimport '../styles.css';\r\nimport { API } from '../backend';\r\nimport Base from './Base';\r\nimport Card from './Cart';\r\nimport { getAllProducts } from './helper/coreapicalls';\r\n\r\nfunction Home() {\r\n\r\n    const [products, setProducts] = useState([]);\r\n    const [error, setError] = useState(false)\r\n\r\n    const preload = () => {\r\n        getAllProducts()\r\n         .then(data => {\r\n             console.log(data)\r\n             if(data.error){\r\n                 setError({...error, error: true})\r\n             }else{\r\n                 setProducts(data)\r\n             }\r\n         }) \r\n    }\r\n\r\n    useEffect(() => {\r\n        preload()\r\n    }, [])\r\n\r\n    console.log(\"API is\", API)\r\n    return (\r\n        <Base title=\"My Home page\" description=\"Welcome to the T-Shirt Store\">\r\n            <div className=\"row text-center\">\r\n                <div className=\"row\">\r\n                {products.map((product, index) => {\r\n                    return (\r\n                        <div key={index} className=\"col-3 mb-4\">\r\n                            <Card product={product} />\r\n                        </div>\r\n                    )\r\n                })}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    )\r\n}\r\n\r\n\r\nexport default Home\r\n","import {API} from \"../../backend\"\r\n\r\nexport const getAllProducts = (req, res) => {\r\n    return fetch(`${API}/products`, {\r\n        method: \"GET\"\r\n    })\r\n     .then(response => {\r\n         return response.json()\r\n     })\r\n     .catch(err => console.log(err))\r\n}\r\n\r\n","import React,{ useState } from 'react';\r\nimport Base from '../core/Base';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nimport {signin, authenticate, isAuthenticated} from '../auth/helper';\r\n\r\nfunction Signin() {\r\n\r\n    const [values, setValues] = useState({\r\n        email: \"a@gmail.com\",\r\n        password: \"12345\",\r\n        error: \"\",\r\n        loading: false,\r\n        didRedirect: false\r\n    })\r\n\r\n    const {email, password, error, loading, didRedirect} = values;\r\n\r\n    const {user} = isAuthenticated();\r\n\r\n    const handleChange = name => event => {\r\n        setValues({...values, error: false, [name]: event.target.value})\r\n    }\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({\r\n            ...values,\r\n            error: false,\r\n            loading: true\r\n        })\r\n        signin({email, password})\r\n         .then(data => {\r\n             if(data.error){\r\n                 setValues({\r\n                     ...values,\r\n                     error: data.error,\r\n                     loading: false\r\n                 })\r\n             }else{\r\n                authenticate(data, () => {\r\n                    setValues({\r\n                        ...values,\r\n                        didRedirect: true\r\n                    })\r\n                })\r\n            }\r\n         })\r\n         .catch(console.log(\"signin request failed\"))\r\n    }\r\n\r\n    const performRedirect = () => {\r\n        if(didRedirect){\r\n            if(user && user.role === 1){\r\n                return <Redirect to=\"/admin/dashboard\" />\r\n            }else{\r\n                return <Redirect to=\"/user/dashboard\" />\r\n            }\r\n        }\r\n        if(isAuthenticated()){\r\n            return <Redirect to=\"/\" />\r\n        }\r\n    }\r\n\r\n    const loadingMessage = () => {\r\n        return (\r\n            loading && (\r\n                <div className=\"alert alert-info\">\r\n                  <h2>Loading...</h2>\r\n                </div>\r\n            )\r\n        )\r\n    }\r\n\r\n    const errorMessage = () => {\r\n        return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-6 offset-sm-3 text-left\">\r\n                <div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\"}}>\r\n                   {error}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n\r\n\r\n    const signInForm = () => {\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-sm-3 text-left\">\r\n                    <form>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-light\">Email</label>\r\n                            <input \r\n                              onChange={handleChange(\"email\")} \r\n                              value={email} \r\n                              className=\"form-control\" \r\n                              type=\"email\" \r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-light\">Password</label>\r\n                            <input \r\n                              onChange={handleChange(\"password\")} \r\n                              value={password} \r\n                              className=\"form-control\" \r\n                              type=\"password\" \r\n                            />\r\n                        </div>\r\n                        <button onClick={onSubmit} className=\"btn btn-success btn-block\">Submit</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Base title=\"Sign in page\" description=\"A page for user to Sign in!\">\r\n            {loadingMessage()}\r\n            {errorMessage()}\r\n            {signInForm()}\r\n            {performRedirect()}\r\n            <p className=\"text-white text-center\">{JSON.stringify(values)}</p>\r\n        </Base>\r\n    )\r\n}\r\n\r\nexport default Signin;\r\n","import React,{ useState } from 'react';\r\nimport Base from '../core/Base';\r\nimport { Link } from 'react-router-dom';\r\nimport { signup } from '../auth/helper';\r\n\r\nconst Signup = () => {\r\n\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        error: \"\",\r\n        success: false\r\n    });\r\n\r\n    const { name, email, password, error, success } = values;\r\n\r\n    const handleChange = name => event => {\r\n        setValues({...values, error: false, [name]: event.target.value})\r\n    }\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({...values, error: false})\r\n        signup({name, email, password})\r\n         .then(data => {\r\n             if(data.error){\r\n                 setValues({...values, error: data.error, success: false})\r\n             }else{\r\n                 setValues({\r\n                     ...values,\r\n                     name: \"\",\r\n                     email: \"\",\r\n                     password: \"\",\r\n                     error: \"\",\r\n                     success: true\r\n                 })\r\n             }\r\n         })\r\n         .catch(console.log(\"Error in signup\"))\r\n    }\r\n\r\n    const signUpForm = () => {\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-sm-3 text-left\">\r\n                    <form>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-light\">Name</label>\r\n                            <input \r\n                              className=\"form-control\" \r\n                              onChange={handleChange(\"name\")} \r\n                              type=\"text\" \r\n                              value={name}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-light\">Email</label>\r\n                            <input \r\n                              className=\"form-control\"\r\n                              onChange={handleChange(\"email\")} \r\n                              type=\"email\" \r\n                              value={email}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-light\">Password</label>\r\n                            <input \r\n                              className=\"form-control\" \r\n                              onChange={handleChange(\"password\")}\r\n                              type=\"password\" \r\n                              value={password}\r\n                            />\r\n                        </div>\r\n                        <button onClick={onSubmit} className=\"btn btn-success btn-block\">Submit</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const errorMessage = () => {\r\n        return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-6 offset-sm-3 text-left\">\r\n                <div className=\"alert alert-danger\" style={{display: error ? \"\" : \"none\"}}>\r\n                   {error}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n\r\n    const successMessage = () => {\r\n        return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-6 offset-sm-3 text-left\">\r\n                <div className=\"alert alert-success\" style={{display: success ? \"\" : \"none\"}}>\r\n                    New Account was created successfully. Please <Link to=\"/signin\">Login here</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <Base title=\"Sign up page\" description=\"A page for user to Sign up!\">\r\n            {successMessage()}\r\n            {errorMessage()}\r\n            {signUpForm()}\r\n            <p className=\"text-white text-center\">{JSON.stringify(values)}</p>\r\n        </Base>\r\n    )\r\n}\r\n\r\nexport default Signup;\r\n","import React from 'react';\r\nimport Base from '../core/Base';\r\n\r\nfunction UserDashBoard() {\r\n    return (\r\n        <Base title=\"UserDashBoard Page\">\r\n            <h1>This is userDashboard Page</h1>\r\n        </Base>\r\n    )\r\n}\r\n\r\nexport default UserDashBoard;\r\n","import React from 'react';\r\nimport Base from '../core/Base';\r\nimport { isAuthenticated } from '../auth/helper/index';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction AdminDashBoard() {\r\n\r\n    const {user : {name, email, role}} = isAuthenticated();\r\n\r\n    const adminLeftSide = () => {\r\n        return (\r\n            <div className=\"card\">\r\n                <h4 className=\"card-header bg-dark text-white\">Admin Navigation</h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\">\r\n                        <Link to=\"/admin/create/category\" className=\"nav-link text-success\">Create Categories</Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link to=\"/admin/categories\" className=\"nav-link text-success\">Manage Categories</Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link to=\"/admin/create/product\" className=\"nav-link text-success\">Create Products</Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link to=\"/admin/products\" className=\"nav-link text-success\">Manage Products</Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\">\r\n                        <Link to=\"/admin/orders\" className=\"nav-link text-success\">Mangae Orders</Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const adminRightSide = () => {\r\n       return (\r\n           <div className=\"card mb-4\">\r\n               <h4 className=\"card-header\">Admin Information</h4>\r\n               <ul className=\"list-group\">\r\n                   <li className=\"list-group-item\">\r\n                       <span className=\"badge badge-success mr-2\">Name: </span> {name}\r\n                   </li>\r\n                   <li className=\"list-group-item\">\r\n                       <span className=\"badge badge-success mr-2\">Email: </span> {email}\r\n                   </li>\r\n                   <li className=\"list-group-item\">\r\n                       <span className=\"badge badge-danger\">Admin Area </span>\r\n                   </li>\r\n               </ul>\r\n\r\n           </div>\r\n       )\r\n    }\r\n\r\n    return (\r\n        <Base \r\n          title=\"Welcome to Admin Area\" \r\n          description=\"Manage all of your Products here\"\r\n          className=\"container bg-success p-4\" \r\n        >\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">\r\n                    {adminLeftSide()}\r\n                </div>\r\n                <div className=\"col-9\">\r\n                    {adminRightSide()}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    )\r\n}\r\n\r\nexport default AdminDashBoard;\r\n","import {API} from '../../backend';\r\n\r\n\r\n// category calls\r\nexport const createCategory = (userId, token, category) => {\r\n    return fetch(`${API}/category/create/${userId}`, {\r\n        method: \"POST\",\r\n        headers:{\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(category)\r\n    })\r\n     .then(response => {\r\n         return response.json()\r\n     })\r\n     .catch(err => console.log(err))\r\n}\r\n\r\n// get category\r\nexport const getCategory = (categoryId) => {\r\n    return fetch(`${API}/category/${categoryId}`, {\r\n        method: \"GET\",\r\n        header: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        }\r\n    })\r\n     .then(response => {\r\n        return response.json()\r\n     })\r\n     .catch(err => console.log(err))\r\n}\r\n\r\n// get all categories\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n        method: \"GET\",\r\n    })\r\n     .then(response => {\r\n         return response.json()\r\n     })\r\n     .catch(err => console.log(err))\r\n}\r\n\r\n// delete categories\r\n\r\nexport const deleteCategory = (userId, token, categoryId) => {\r\n    return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n     .then(response => response.json())\r\n     .catch(err => console.log(err))\r\n}\r\n\r\n// update category\r\n\r\nexport const updateCategory = (categoryId, userId, token, category) => {\r\n    return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(category)\r\n    })\r\n     .then(response => {\r\n         return response.json()\r\n     })\r\n     .catch(err => console.log(err))\r\n}\r\n\r\n\r\n\r\n// product calls\r\n\r\n// call product\r\nexport const createProduct = (userId, token, product) => {\r\n    return fetch(`${API}/product/create/${userId}`, {\r\n        method: \"POST\",\r\n        headers:{\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product\r\n    })\r\n     .then(response => {\r\n         return response.json()\r\n     })\r\n     .catch(err => console.log(err))\r\n}\r\n\r\n\r\n// get all products\r\nexport const getProducts = () => {\r\n    return fetch(`${API}/products`, {\r\n        method: \"GET\",\r\n    })\r\n     .then(response => {\r\n         return response.json()\r\n     })\r\n     .catch(err => console.log(err))\r\n}\r\n\r\n// delete a product\r\nexport const deleteProduct = (userId, productId, token) => {\r\n    return fetch(`${API}/product/${productId}/${userId}`, {\r\n        method: \"DELETE\",\r\n        headers:{\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n     .then(response => {\r\n         return response.json()\r\n     })\r\n     .catch(err => console.log(err))\r\n}\r\n\r\n// get a product \r\nexport const getProduct = (productId) => {\r\n    return fetch(`${API}/product/${productId}`, {\r\n        method: \"GET\"\r\n    })\r\n     .then(response => {\r\n         return response.json()\r\n     })\r\n     .catch(err => console.log(err))\r\n}\r\n\r\n// update a product\r\nexport const updateProduct = (productId, userId, token, product ) => {\r\n    return fetch(`${API}/product/${productId}/${userId}`, {\r\n        method: \"PUt\",\r\n        headers:{\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product\r\n    })\r\n     .then(response => {\r\n         return response.json()\r\n     })\r\n     .catch(err => console.log(err))\r\n}","import React,{ useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { isAuthenticated } from '../auth/helper';\r\nimport Base from '../core/Base';\r\nimport { createCategory } from './helper/adminapicall';\r\n\r\n\r\n\r\n\r\nfunction AddCategory() {\r\n\r\n    const [name, setName] = useState(\"\")\r\n    const [error, setError] = useState(false)\r\n    const [success, setSuccess] = useState(false)\r\n\r\n\r\n    const {user, token} = isAuthenticated();\r\n\r\n    const goBack = () => (\r\n        <div className=\"mt-5\">\r\n            <Link\r\n              className=\"btn btn-sm btn-success mb-3\" \r\n              to=\"/admin/dashboard\"\r\n            >\r\n                Admin Home\r\n            </Link>\r\n        </div>\r\n    )\r\n\r\n    const handleChange = (event) => {\r\n        setError(\"\")\r\n        setName(event.target.value)\r\n    }\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault();\r\n        setError(\"\");\r\n        setSuccess(false);\r\n\r\n        createCategory(user._id, token, {name})\r\n         .then(data => {\r\n             if(data.error){\r\n                 setError(true)\r\n             }else{\r\n                 setError(\"\")\r\n                 setSuccess(true)\r\n                 setName(\"\");\r\n             }\r\n         })\r\n    }\r\n\r\n    const successMessage = () => {\r\n        if(success){\r\n            return <h4 className=\"text-success\">Category created</h4>\r\n        }\r\n    }\r\n\r\n    const warningMessage = () => {\r\n        if(error){\r\n            return <h4 className=\"text-danger\">Failed to create category</h4>\r\n        }\r\n    }\r\n\r\n    const myCategoryForm = () => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <p className=\"lead\">Enter the Category</p>\r\n                <input \r\n                  type=\"text\"\r\n                  className=\"form-control my-3\"\r\n                  onChange={handleChange}\r\n                  value={name}\r\n                  autoFocus\r\n                  required\r\n                  placeholder=\"For Ex. Summer\" \r\n                />\r\n                <button className=\"btn btn-outline-info\" onClick={onSubmit}>\r\n                    Create Category\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n\r\n\r\n    return (\r\n        <Base \r\n          title=\"Create a Category\" \r\n          description=\"Add a new Category for new T-shirt\" \r\n          className=\"container bg-info p-4\" \r\n        >\r\n           <div className=\"row bg-white rounded\">\r\n               <div className=\"col-md-8 offset-md-2\">\r\n                   {successMessage()}\r\n                   {warningMessage()}\r\n                   {myCategoryForm()} \r\n                   {goBack()}\r\n               </div>\r\n           </div>\r\n        </Base>\r\n    )\r\n}\r\n\r\nexport default AddCategory\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { isAuthenticated } from '../auth/helper';\r\nimport Base from '../core/Base';\r\nimport { getCategories, deleteCategory } from './helper/adminapicall';\r\n\r\n\r\nfunction ManageCategories() {\r\n\r\n    const { user, token } = isAuthenticated();\r\n\r\n    const [category, setCategory ] = useState([]);\r\n\r\n    const preload = () => {\r\n        getCategories()\r\n         .then(data => {\r\n             if(data.error){\r\n                 console.log(data.error)\r\n             }else{\r\n                 setCategory(data)\r\n             }\r\n         })\r\n    }\r\n\r\n    useEffect(() => {\r\n        preload()\r\n    }, [])\r\n\r\n    const deleteThisCategory = (categoryId) => {\r\n        deleteCategory(user._id, token, categoryId)\r\n         .then(data => {\r\n             if(data.error){\r\n                 console.log(data.error)\r\n             }else{\r\n                 preload()\r\n             }\r\n         })\r\n    }\r\n\r\n\r\n    return (\r\n        <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n      <h2 className=\"mb-4\">All products:</h2>\r\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-white my-3\">Total 3 products</h2>\r\n\r\n          {category.map((cate, index) => {\r\n              return (\r\n                <div key={index} className=\"row text-center mb-2 \">\r\n                <div className=\"col-4\">\r\n                  <h3 className=\"text-white text-left\">{cate.name}</h3>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <Link\r\n                    className=\"btn btn-success\"\r\n                    to={`/admin/category/update/${cate._id}`}\r\n                  >\r\n                    <span className=\"\">Update</span>\r\n                  </Link>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <button onClick={() => {deleteThisCategory(cate._id)}} className=\"btn btn-danger\">\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              )\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n    )\r\n}\r\n\r\nexport default ManageCategories;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { isAuthenticated } from '../auth/helper';\r\nimport Base from '../core/Base';\r\nimport { createProduct, getCategories } from './helper/adminapicall';\r\n\r\n\r\n\r\n\r\nfunction AddProduct() {\r\n\r\n  const { user, token} = isAuthenticated();\r\n\r\n    const [values, setValues] = useState({\r\n        name:\"\",\r\n        description:\"\",\r\n        price:\"\",\r\n        stock:\"\",\r\n        photo:\"\",\r\n        categories:[],\r\n        category:\"\",\r\n        loading:false,\r\n        error:\"\",\r\n        createdProduct:\"\",\r\n        getRedirect:false,\r\n        formData:\"\"\r\n    })\r\n\r\n    const {name\r\n           , description\r\n           , price\r\n           , stock\r\n           ,categories\r\n           , category\r\n           , loading\r\n           , error\r\n           , createdProduct\r\n           , getRedirect\r\n           , formData \r\n          } = values;\r\n\r\n    const preload = () => {\r\n      getCategories().then(data => {\r\n        console.log(data)\r\n        if(data.error){\r\n          setValues({...values, error: data.error})\r\n        }else {\r\n          setValues({...values, categories: data, formData: new FormData() })\r\n        }\r\n      })\r\n    }\r\n\r\n    useEffect(() => {\r\n      preload()\r\n    }, [])\r\n\r\n    const onSubmit = (event) => {\r\n      event.preventDefault();\r\n      setValues({...values, error: \"\", loading:true})\r\n      createProduct(user._id, token, formData)\r\n       .then(data => {\r\n         if(data.error){\r\n           setValues({...values, error: data.error})\r\n         }else{\r\n           setValues({\r\n             ...values,\r\n             name:\"\",\r\n             description:\"\",\r\n             price:\"\",\r\n             photo:\"\",\r\n             stock:\"\",\r\n             loading:false,\r\n             createdProduct: data.name\r\n           })\r\n         }\r\n       })\r\n    }\r\n\r\n    const handleChange = name => event => {\r\n      const value = name === \"photo\" ? event.target.files[0] : event.target.value\r\n      formData.set(name, value)\r\n      setValues({...values, [name]: value})\r\n    }\r\n\r\n    const successMessage = () => {\r\n      return (\r\n        <div className=\"alert alert-success mt-3\" style={{display: createdProduct ? \"\" : \"none\"}}>\r\n          <h4>{createdProduct} created succesfully</h4>\r\n        </div>\r\n      )\r\n    }\r\n\r\n\r\n    const errorMessage = () => {\r\n      return (\r\n        <div className=\"alert alert-danger mt-3\" style={{display: error ? \"\" : \"none\"}}>\r\n          <h4>{error}</h4>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    const createProductForm = () => (\r\n        <form >\r\n          <span>Post photo</span>\r\n          <div className=\"form-group\">\r\n            <label className=\"btn btn-block btn-success\">\r\n              <input\r\n                onChange={handleChange(\"photo\")}\r\n                type=\"file\"\r\n                name=\"photo\"\r\n                accept=\"image\"\r\n                placeholder=\"choose a file\"\r\n              />\r\n            </label>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              onChange={handleChange(\"name\")}\r\n              name=\"photo\"\r\n              className=\"form-control\"\r\n              placeholder=\"Name\"\r\n              value={name}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              onChange={handleChange(\"description\")}\r\n              name=\"photo\"\r\n              className=\"form-control\"\r\n              placeholder=\"Description\"\r\n              value={description}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              onChange={handleChange(\"price\")}\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              placeholder=\"Price\"\r\n              value={price}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <select\r\n              onChange={handleChange(\"category\")}\r\n              className=\"form-control\"\r\n              placeholder=\"Category\"\r\n            >\r\n              <option>Select</option>\r\n              {categories && categories.map((cate, index) => (\r\n                <option key={index} value={cate._id}>{cate.name}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              onChange={handleChange(\"stock\")}\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              placeholder=\"Quantity\"\r\n              value={stock}\r\n            />\r\n          </div>\r\n          \r\n          <button \r\n            type=\"submit\" \r\n            onClick={onSubmit} \r\n            className=\"btn btn-outline-success mb-3\" \r\n          >\r\n            Create Product\r\n          </button>\r\n        </form>\r\n      );\r\n\r\n\r\n    return (\r\n        <Base \r\n          title=\"Add a product here!\"\r\n          description=\"Welcome to product creatation section\"\r\n          className=\"container bg-info p-4\" \r\n        >\r\n            <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n                Admin Home\r\n            </Link>\r\n            <div className=\"row bg-dark text-white rounded\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {successMessage()}\r\n                    {errorMessage()}\r\n                    {createProductForm()}\r\n                </div>\r\n            </div>\r\n            \r\n        </Base>\r\n    )\r\n}\r\n\r\nexport default AddProduct\r\n","import React,{ useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { isAuthenticated } from '../auth/helper';\r\nimport Base from '../core/Base';\r\nimport { deleteProduct, getProducts } from './helper/adminapicall';\r\n\r\n\r\n\r\nfunction ManageProducts() {\r\n\r\n  const [products, setProducts] = useState([])\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const preload = () => {\r\n    getProducts()\r\n     .then(data => {\r\n       if(data.error){\r\n         console.log(data.error)\r\n       }else{\r\n         setProducts(data)\r\n       }\r\n     })\r\n  }\r\n\r\n  useEffect(() => {\r\n    preload()\r\n  }, [])\r\n\r\n\r\n  const deleteThisProduct = productId => {\r\n    deleteProduct(user._id,productId, token)\r\n     .then(data => {\r\n      if(data.error){\r\n        console.log(data.error)\r\n      }else{\r\n        preload()\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n    return (\r\n        <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n      <h2 className=\"mb-4\">All products:</h2>\r\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-white my-3\">Total 3 products</h2>\r\n\r\n          {products.map((product, index) => {\r\n            return (\r\n            <div key={index} className=\"row text-center mb-2 \">\r\n            <div className=\"col-4\">\r\n              <h3 className=\"text-white text-left\">{product.name}</h3>\r\n            </div>\r\n            <div className=\"col-4\">\r\n              <Link\r\n                className=\"btn btn-success\"\r\n                to={`/admin/product/update/${product._id}`}\r\n              >\r\n                <span className=\"\">Update</span>\r\n              </Link>\r\n            </div>\r\n            <div className=\"col-4\">\r\n              <button onClick={() => {deleteThisProduct(product._id)}} className=\"btn btn-danger\">\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </div>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n    )\r\n}\r\n\r\nexport default ManageProducts\r\n","import React,{ useState, useEffect} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { isAuthenticated } from '../auth/helper';\r\nimport Base from '../core/Base';\r\nimport { getCategories, getProduct, updateProduct } from './helper/adminapicall';\r\n\r\n\r\nfunction UpdateProduct({match}) {\r\n    const { user, token} = isAuthenticated();\r\n\r\n    const [values, setValues] = useState({\r\n        name:\"\",\r\n        description:\"\",\r\n        price:\"\",\r\n        stock:\"\",\r\n        photo:\"\",\r\n        categories:[],\r\n        category:\"\",\r\n        loading:false,\r\n        error:\"\",\r\n        createdProduct:\"\",\r\n        getRedirect:false,\r\n        formData:\"\"\r\n    })\r\n\r\n    const {name\r\n           , description\r\n           , price\r\n           , stock\r\n           , categories\r\n           , category\r\n           , loading\r\n           , error\r\n           , createdProduct\r\n           , getRedirect\r\n           , formData \r\n          } = values;\r\n\r\n    const preload = (productId) => {\r\n      getProduct(productId)\r\n       .then(data => {\r\n           if(data.error){\r\n            setValues({...values, error: data.error})\r\n           }else{\r\n               setValues({\r\n                   ...values,\r\n                   name: data.name,\r\n                   description: data.description,\r\n                   price: data.price,\r\n                   category: data.category._id,\r\n                   stock: data.stock,\r\n                   formData: new FormData()\r\n               });\r\n               preloadCategories()\r\n           }\r\n       })\r\n    }\r\n\r\n    const preloadCategories = () => {\r\n        getCategories()\r\n         .then(data => {\r\n             if(data.error){\r\n                 setValues({ ...values, error: data.error })\r\n             }else{\r\n                 setValues({\r\n                     categories: data,\r\n                     formData: new FormData()\r\n                 })\r\n             }\r\n         })\r\n    }\r\n\r\n    useEffect(() => {\r\n      preload(match.params.productId)\r\n    }, [])\r\n\r\n    const onSubmit = (event) => {\r\n      event.preventDefault();\r\n      setValues({...values, error: \"\", loading:true})\r\n\r\n      updateProduct(match.params.productId, user._id, token, formData)\r\n       .then(data => {\r\n         if(data.error){\r\n           setValues({...values, error: data.error})\r\n         }else{\r\n           setValues({\r\n             ...values,\r\n             name:\"\",\r\n             description:\"\",\r\n             price:\"\",\r\n             photo:\"\",\r\n             stock:\"\",\r\n             loading:false,\r\n             createdProduct: data.name\r\n           })\r\n         }\r\n       })\r\n    }\r\n\r\n    const handleChange = name => event => {\r\n      const value = name === \"photo\" ? event.target.files[0] : event.target.value\r\n      formData.set(name, value)\r\n      setValues({...values, [name]: value})\r\n    }\r\n\r\n    const successMessage = () => {\r\n      return (\r\n        <div className=\"alert alert-success mt-3\" style={{display: createdProduct ? \"\" : \"none\"}}>\r\n          <h4>{createdProduct} updated succesfully</h4>\r\n        </div>\r\n      )\r\n    }\r\n\r\n\r\n    const errorMessage = () => {\r\n      return (\r\n        <div className=\"alert alert-danger mt-3\" style={{display: error ? \"\" : \"none\"}}>\r\n          <h4>{error}</h4>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    const createProductForm = () => (\r\n        <form >\r\n          <span>Post photo</span>\r\n          <div className=\"form-group\">\r\n            <label className=\"btn btn-block btn-success\">\r\n              <input\r\n                onChange={handleChange(\"photo\")}\r\n                type=\"file\"\r\n                name=\"photo\"\r\n                accept=\"image\"\r\n                placeholder=\"choose a file\"\r\n              />\r\n            </label>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              onChange={handleChange(\"name\")}\r\n              name=\"photo\"\r\n              className=\"form-control\"\r\n              placeholder=\"Name\"\r\n              value={name}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              onChange={handleChange(\"description\")}\r\n              name=\"photo\"\r\n              className=\"form-control\"\r\n              placeholder=\"Description\"\r\n              value={description}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              onChange={handleChange(\"price\")}\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              placeholder=\"Price\"\r\n              value={price}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <select\r\n              onChange={handleChange(\"category\")}\r\n              className=\"form-control\"\r\n              placeholder=\"Category\"\r\n            >\r\n              <option>Select</option>\r\n              {categories && categories.map((cate, index) => (\r\n                <option key={index} value={cate._id}>{cate.name}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              onChange={handleChange(\"stock\")}\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              placeholder=\"Quantity\"\r\n              value={stock}\r\n            />\r\n          </div>\r\n          \r\n          <button \r\n            type=\"submit\" \r\n            onClick={onSubmit} \r\n            className=\"btn btn-outline-success mb-3\" \r\n          >\r\n            Update Product\r\n          </button>\r\n        </form>\r\n      );\r\n\r\n\r\n    return (\r\n        <Base \r\n          title=\"Add a product here!\"\r\n          description=\"Welcome to product creatation section\"\r\n          className=\"container bg-info p-4\" \r\n        >\r\n            <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n                Admin Home\r\n            </Link>\r\n            <div className=\"row bg-dark text-white rounded\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {successMessage()}\r\n                    {errorMessage()}\r\n                    {createProductForm()}\r\n                </div>\r\n            </div>\r\n            \r\n        </Base>\r\n    )\r\n}\r\n\r\n\r\nexport default UpdateProduct\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { isAuthenticated } from '../auth/helper';\r\nimport Base from '../core/Base';\r\nimport { getCategory, updateCategory } from './helper/adminapicall';\r\n\r\n\r\nfunction UpdateCategory({match}) {\r\n    const [name, setName] = useState(\"\")\r\n    const [error, setError] = useState(false)\r\n    const [success, setSuccess] = useState(false)\r\n\r\n\r\n    const {user, token} = isAuthenticated();\r\n\r\n    const goBack = () => (\r\n        <div className=\"mt-5\">\r\n            <Link\r\n              className=\"btn btn-sm btn-success mb-3\" \r\n              to=\"/admin/dashboard\"\r\n            >\r\n                Admin Home\r\n            </Link>\r\n        </div>\r\n    )\r\n\r\n    const preload = (categoryId) => {\r\n        getCategory(categoryId)\r\n         .then(data => {\r\n             console.log(data)\r\n             console.log(data.name)\r\n             if(data.error){\r\n                 setError({...error, error: false})\r\n             }else{\r\n                 setName({...name, name: data.name})\r\n             }\r\n         })\r\n    }\r\n\r\n    useEffect(() => {\r\n        preload(match.params.categoryId)\r\n    },[])\r\n\r\n    const handleChange = (event) => {\r\n        setError(\"\")\r\n        setName(event.target.value)\r\n    }\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault();\r\n        setError(\"\");\r\n        setSuccess(false);\r\n\r\n        updateCategory(match.params.categoryId, user._id, token, {name})\r\n         .then(data => {\r\n             if(data.error){\r\n                 setError(true)\r\n             }else{\r\n                 setError(\"\")\r\n                 setSuccess(true)\r\n                 setName(\"\");\r\n             }\r\n         })\r\n    }\r\n\r\n    const successMessage = () => {\r\n        if(success){\r\n            return <h4 className=\"text-success\">Category updated</h4>\r\n        }\r\n    }\r\n\r\n    const warningMessage = () => {\r\n        if(error){\r\n            return <h4 className=\"text-danger\">Failed to update category</h4>\r\n        }\r\n    }\r\n\r\n    const myCategoryForm = () => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <p className=\"lead\">Enter the Category</p>\r\n                <input \r\n                  type=\"text\"\r\n                  className=\"form-control my-3\"\r\n                  onChange={handleChange}\r\n                  value={name.name}\r\n                  autoFocus\r\n                  required\r\n                  placeholder=\"For Ex. Summer\" \r\n                />\r\n                <button className=\"btn btn-outline-info\" onClick={onSubmit}>\r\n                    Update Category\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n\r\n\r\n    return (\r\n        <Base \r\n          title=\"Create a Category\" \r\n          description=\"Add a new Category for new T-shirt\" \r\n          className=\"container bg-info p-4\" \r\n        >\r\n           <div className=\"row bg-white rounded\">\r\n               <div className=\"col-md-8 offset-md-2\">\r\n                   {successMessage()}\r\n                   {warningMessage()}\r\n                   {myCategoryForm()} \r\n                   {goBack()}\r\n               </div>\r\n           </div>\r\n        </Base>\r\n    )\r\n}\r\n\r\n\r\nexport default UpdateCategory\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { isAuthenticated } from '../auth/helper';\r\nimport { cartEmpty, loadCart } from './helper/CartHelper';\r\nimport StripeCheckoutButton from 'react-stripe-checkout';\r\nimport { API } from '../backend';\r\nimport { createOrder } from './helper/orderHelper';\r\n\r\n\r\n\r\nfunction StripeCheckout({\r\n     products\r\n    , setReload = f => f\r\n    , reload = undefined}) {\r\n\r\n        const [data, setData] = useState({\r\n            loading: false,\r\n            success: false,\r\n            error: \"\",\r\n            address: \"\"\r\n        })\r\n\r\n        const token = isAuthenticated() && isAuthenticated().token;\r\n        const userId = isAuthenticated() && isAuthenticated().user._id;\r\n\r\n        const getFinalPrice = () => {\r\n            let amount = 0\r\n            products.map(p => {\r\n                amount = amount + p.price\r\n            })\r\n            return amount\r\n        }\r\n\r\n        const makePayment = (token) => {\r\n            const body = {\r\n                token,\r\n                products\r\n            }\r\n            const headers = {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n            return fetch(`${API}/stripepayment`, {\r\n                method: \"POST\",\r\n                headers,\r\n                body: JSON.stringify(body)\r\n            })\r\n             .then(response => {\r\n                 console.log(response)\r\n                 const {status} = response;\r\n                 console.log(\"Status is\", status)\r\n                 cartEmpty(() => {\r\n                     console.log(\"did we got a crash\")\r\n                 })\r\n                 setReload(!reload)\r\n                //  \r\n             })\r\n             .catch(error => console.log(error))\r\n        }\r\n\r\n        const showStripeButton = () => {\r\n            return isAuthenticated() ? (\r\n                <StripeCheckoutButton \r\n                  stripeKey=\"pk_test_51Hp6GKHx52WIbetHYK1FEAu33J0FKgYyJ5FMIpa4BcSHcOzWQXEIV7gQz2woAZ5SL3HcOrwaKzAwpyVyUo2LjwD800Wy41ZVgG\"\r\n                  token={makePayment}\r\n                  amount={getFinalPrice() * 100}\r\n                  name=\"Buy T-Shirt\" \r\n                  shippingAddress\r\n                  billingAddress\r\n                >\r\n                <button className=\"btn btn-success\">Pay with stripe</button>\r\n                </StripeCheckoutButton>\r\n            ) : (\r\n                <Link to=\"/signin\">\r\n                    <button className=\"btn btn-warning\">Sign in</button>\r\n                </Link>\r\n            )\r\n        }\r\n\r\n    return (\r\n        <div>\r\n            <h3>\r\n                Stripe Checkout {getFinalPrice()}\r\n                {showStripeButton()}\r\n            </h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StripeCheckout\r\n","import React, {useState, useEffect} from 'react';\r\nimport Base from './Base';\r\nimport Card from './Cart';\r\nimport { loadCart } from './helper/CartHelper';\r\nimport StripeCheckout from './StripeCheckout';\r\n\r\n\r\n\r\nfunction ShopCart() {\r\n\r\n    const [products, setProducts] = useState([]);\r\n\r\n    const [reload, setReload] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setProducts(loadCart())\r\n    }, [reload])\r\n\r\n    const loadAllProducts = () => {\r\n        return (\r\n            <div>\r\n                <h2>This section is to load products</h2>\r\n                {products.map((product, index) => (\r\n                        <Card \r\n                          key={index} \r\n                          product={product} \r\n                          removeFromCart={true} \r\n                          addtoCart={false} \r\n                          setReload={setReload}\r\n                          reload={reload}\r\n                        />\r\n                ))}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const loadCheckout = () => {\r\n        return (\r\n            <div>\r\n                <h2>This section is for checkout</h2>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Base title=\"Cart Page\" description=\"Ready to checkout\">\r\n                <div className=\"row text-center\">\r\n                   <div className=\"col-6\">{loadAllProducts()}</div>\r\n                   <div className=\"col-6\">\r\n                       <StripeCheckout\r\n                         products={products}\r\n                         setReload={setReload} \r\n                       />\r\n                    </div>\r\n                </div>\r\n        </Base>\r\n    )\r\n}\r\n\r\nexport default ShopCart\r\n","import React from 'react';\r\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\r\nimport AdminRoute from './auth/helper/AdminRoutes';\r\nimport PrivateRoute from './auth/helper/PrivateRoutes';\r\nimport Home from './core/Home';\r\nimport Signin from './user/Signin';\r\nimport Signup from './user/Signup';\r\nimport UserDashBoard from './user/UserDashBoard';\r\nimport AdminDashBoard from './user/AdminDashBoard';\r\nimport AddCategory from './admin/AddCategory';\r\nimport ManageCategories from './admin/ManageCategories';\r\nimport AddProduct from './admin/AddProduct';\r\nimport ManageProducts from './admin/ManageProducts';\r\nimport UpdateProduct from './admin/UpdateProduct';\r\nimport UpdateCategory from './admin/UpdateCategory';\r\nimport ShopCart from './core/ShopCart';\r\n\r\n\r\n\r\n\r\nfunction Routes() {\r\n    return (\r\n        <BrowserRouter>\r\n           <Switch>\r\n               <Route path=\"/\" exact component={Home} />\r\n               <Route path=\"/signup\" exact component={Signup} />\r\n               <Route path=\"/signin\" exact component={Signin} />\r\n               <Route path=\"/cart\" exact component={ShopCart} />\r\n               <PrivateRoute path=\"/user/dashboard\" exact component={UserDashBoard} />\r\n               <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashBoard} />\r\n               <AdminRoute path=\"/admin/create/category\" exact component={AddCategory} />\r\n               <AdminRoute path=\"/admin/categories\" exact component={ManageCategories} />\r\n               <AdminRoute path=\"/admin/create/product\" exact component={AddProduct} />\r\n               <AdminRoute path=\"/admin/products\" exact component={ManageProducts} />\r\n               <AdminRoute path=\"/admin/product/update/:productId\" exact component={UpdateProduct} />\r\n               <AdminRoute path=\"/admin/category/update/:categoryId\" exact component={UpdateCategory} />\r\n           </Switch>\r\n        </BrowserRouter>\r\n    )\r\n}\r\n\r\nexport default Routes;\r\n","import React from 'react';\r\nimport Routes from './Routes';\r\nimport ReactDOM from 'react-dom';\r\n\r\n\r\nReactDOM.render(\r\n    <Routes />,\r\n    document.getElementById(\"root\")\r\n)"],"sourceRoot":""}